<!DOCTYPE html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>News</title>
    <meta name="description" content="Manchester City Website is a PBL project for KIUT University">
    <meta name="keywords" content="football, club, soccer, bootstrap">
    <meta name="author" content="Ajara Guju Team"> 

    <!-- Favicons -->
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/owl.carousel.css">
    <link rel="stylesheet" type="text/css" href="css/owl.theme.css">
    <link rel="stylesheet" type="text/css" href="css/magnific-popup.css">

    <!-- Google Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

    <!-- Custom Stylesheet -->
    <link rel="stylesheet" type="text/css" href="css/style.css" />

    <script type="text/javascript" src="js/modernizr.min.js"></script>
    <style>
        :root {
            --barca-blue: #004D98;
            --barca-red: #001838;
            --dark-blue: #181733;
        }

        body {
            background-color: #f4f4f4;
        }

        .news-section {
            padding: 40px 0;
            background-color: #fff;
        }

        .news-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .news-title {
            font-size: 2.5rem;
            font-weight: 800;
            text-transform: uppercase;
            color: var(--dark-blue);
            margin: 0;
            letter-spacing: 1px;
        }

        .news-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 30px;
            padding: 0 15px;
        }

        .news-card {
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .news-card:hover {
            transform: translateY(-5px);
        }

        .news-image-container {
            position: relative;
            width: 100%;
            padding-top: 66.67%; /* 3:2 aspect ratio */
            overflow: hidden;
        }

        .news-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .news-card:hover .news-image {
            transform: scale(1.05);
        }

        .news-content {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .news-category {
            display: inline-block;
            padding: 4px 12px;
            background-color: var(--barca-red);
            color: #fff;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            border-radius: 4px;
            margin-bottom: 10px;
        }

        .news-headline {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark-blue);
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .news-meta {
            font-size: 0.85rem;
            color: #666;
            margin-top: auto;
        }

        .news-link {
            text-decoration: none;
            color: inherit;
        }

        .news-link:hover {
            text-decoration: none;
            color: inherit;
        }

        @media (max-width: 768px) {
            .news-grid {
                grid-template-columns: 1fr;
            }
            
            .news-title {
                font-size: 2rem;
            }
        }
    </style>
</head>

<body>
    <!-- Load page -->
    <div class="animationload">
        <div class="loader"></div>
    </div>
    
    <header>
        <!-- NAVBAR SECTION -->
        <div class="navbar navbar-main navbar-fixed-top">
            <div class="header-top">
                <div class="container">
                    <div class="row">
                        <div class="col-xs-12 col-sm-7 col-md-7 col-lg-7">
                            <div class="info">
                                <h3>News:</h3>
							    <div class="info-item">
								    <div><a href="/news">Назначен новый тренер команды</a></div>
								    <div><a href="/news">Открытие нового стадиона</a></div>
							    </div>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-5 col-md-5 col-lg-5">
                            <div class="top-sosmed pull-right">
                                <a href="#" title=""><span class="fa fa-facebook"></span></a>
                                <a href="#" title=""><span class="fa fa-twitter"></span></a>
                                <a href="#" title=""><span class="fa fa-instagram"></span></a>
                                <a href="#" title=""><span class="fa fa-pinterest"></span></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="/home"><img src="images/logo.png" alt="" /></a>
                </div>
                <nav class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="/home">HOME</a></li>
                        <li><a href="/about">ABOUT</a></li>
                        <li><a href="/team">TEAM</a></li>
                        <li><a href="/gallery">GALLERY</a></li>
                        <li class="active"><a href="/news">NEWS</a></li>
                        <li><a href="/shop">SHOP</a></li>
                        <li><a href="/contact">CONTACT</a></li>
                        <li><a href="/register">REGISTRATION</a></li>
                        <li><a href="/login">LOGIN</a></li>
                    </ul>
                </nav>
            </div>
        </div>
   
        <!-- BANNER -->
        <div class="section subbanner">
            <div class="container">
                <div class="row">
                    <div class="col-sm-12 col-md-12">
                        <div class="caption">NEWS</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- NEWS SECTION -->
    <div class="news-section">
        <div class="container">
            <div class="news-header">
                <h1 class="news-title">Latest News</h1>
            </div>
            <div id="news-container" class="news-grid">
                <!-- News items will be dynamically inserted here -->
            </div>
        </div>
    </div>
    <!-- FOOTER SECTION -->
    <div class="footer">
        <div class="f-desc">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                        <div class="footer-item">
                            <div class="footer-title">
                                <h4>ABOUT CLUB</h4>
                            </div>
                            <p>Manchester City Football Club is a professional football club based in Manchester, England, that competes in the Premier League, the top flight of English football. Founded in 1880 as St. Mark's (West Gorton), they became Ardwick Association Football Club in 1887 and Manchester City in 1894.</p>
                            <div class="footer-sosmed">
                                <a href="#" title=""><div class="item"><i class="fa fa-facebook"></i></div></a>
                                <a href="#" title=""><div class="item"><i class="fa fa-twitter"></i></div></a>
                                <a href="#" title=""><div class="item"><i class="fa fa-instagram"></i></div></a>
                                <a href="#" title=""><div class="item"><i class="fa fa-pinterest"></i></div></a>
                            </div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                        <div class="footer-item">
                            <div class="footer-title">
                                <h4>RECENT POST</h4>
                            </div>
                            <div class="footer-blog-item">
								<div class="footer-blog-lead">
									<a href="/news" title="">Назначен новый тренер команды</a>
								</div>
								<div class="footer-blog-date">
									December 8, 2024
								</div>
							</div>
							<div class="footer-blog-item">
								<div class="footer-blog-lead">
									<a href="/news" title="">Открытие нового стадиона</a>
								</div>
								<div class="footer-blog-date">
									December 8, 2024
								</div>
							</div>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                        <div class="footer-item">
                            <div class="footer-title">
                                <h4>INFORMATION</h4>
                            </div>
                            <ul class="sitemap">
                                <li><a href="/home" title="">Home</a></li>
                                <li><a href="/about" title="">About</a></li>
                                <li><a href="/team" title="">Team</a></li>
                                <li><a href="/gallery" title="">Gallery</a></li>
                                <li><a href="/news" title="">News</a></li>
                                <li><a href="/shop" title="">Shop</a></li>
                                <li><a href="/contact" title="">Contact</a></li>
                                <li><a href="/faq" title="">FAQs</a></li>
                                <li><a href="/support" title="">Support</a></li>
                                <li><a href="/privacy" title="">Privacy Policy</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-6 col-md-3 col-lg-3">
                        <div class="footer-item">
                            <div class="footer-title">
                                <h4>NEWSLETTER</h4>
                            </div>
                            <div class="footer-form">
                                <form action="#" id="newsletter-form">
                                    <div class="form-group">
                                        <input type="text" class="form-control" placeholder="Name">
                                    </div>
                                    <div class="form-group">
                                        <input type="email" class="form-control" placeholder="Email">
                                    </div>
                                    <div class="form-group">
                                        <button type="submit" class="btn btn-default">SEND</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="fcopy">
            <div class="container">
                <div class="row">
                    <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                        <p class="ftex">&copy; 2024 Manchester City Website by Ajara Guju Team All Rights Reserved</p>                     </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JS -->
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/owl.carousel.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-hover-dropdown.min.js"></script>
    <script type="text/javascript" src="js/jquery.magnific-popup.min.js"></script>
    <script type="text/javascript" src="js/script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            fetch('/api/news')
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                return response.json();
            })
            .then(data => {
                if (!Array.isArray(data)) {
                    throw new Error('Expected array of news items');
                }
                const newsContainer = document.getElementById('news-container');
                newsContainer.innerHTML = '';
                data.forEach(news => {
                    const formattedDate = new Date(news.date).toLocaleString('en-US', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    });
    
                    // Determine category color based on news type
                    const categoryClass = news.category ? news.category.toLowerCase() : 'general';
                    
                    newsContainer.innerHTML += `
                        <a href="/newsdisplay?id=${news.id}" class="news-link">
                            <article class="news-card">
                                <div class="news-image-container">
                                    <img class="news-image" 
                                         src='/uploads/${news.image}' 
                                         alt="${news.title}"
                                         onerror="this.src='/images/placeholder.jpg'"
                                    />
                                </div>
                                <div class="news-content">
                                    <span class="news-category">${news.category || 'News'}</span>
                                    <h3 class="news-headline">${news.title}</h3>
                                    <div class="news-meta">${formattedDate}</div>
                                </div>
                            </article>
                        </a>
                    `;
                });
            })
            .catch(error => {
                console.error('Error loading news:', error);
                document.getElementById('news-container').innerHTML = 
                    '<div class="col-12"><p class="alert alert-danger">Error loading news. Please try again later.</p></div>';
            });
        });
        </script>
</body>
</html>